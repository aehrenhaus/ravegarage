@{
	ViewBag.Title = "Index";
	Layout = "~/Views/Shared/_Layout.cshtml";
}
@model System.Xml.Linq.XElement
@section Head
{
	<style>
		ul
		{
		}
		
		li
		{
			margin: 5px;
			padding: 5px;
			border-bottom: 1px solid #ddd;
			list-style: none;
		}
		
		.comment
		{
			color:#008000;
			font-size:12px;
		}
		
		.nocomment
		{
			color:orange;
		}
		.page
		{
			font-weight:bold;
		}
	</style>
}
<form action="/Default/Index">
<label>Path to dlls</label><input name="path" value="@ViewBag.Path" style="width:80%" />
<br />
<input type="submit" value="Select dll folder" />
</form>
<h2>
	List</h2>
@if (Model != null)
{
	foreach (var type in Model.Elements("Type"))
	{
	<h3>@type.Attribute("Name").Value</h3>
	
	<ul>
		@foreach (var method in type.Descendants("Method"))
  {
	  foreach (var stepDef in method.Descendants("StepDef"))
	  {
			<li>@stepDef.Attribute("RegexWithArgName").Value
			
				@{
		  var from = method.Descendants("FromPage").FirstOrDefault();
		  var to = method.Descendants("ToPage").FirstOrDefault();
		  var summary = method.Descendants("summary").FirstOrDefault();
				}
<p>
@if(from!=null )
  {
	<span class="page">@from.Value</span>
  }
  <span>---&gt;</span>
  @if(to!=null)
  {
	 <span class="page">@to.Value</span>
  }
 </p>
  
				@if (summary != null)
	{
					<p class="comment">@summary.Value</p>
	}
	else
	{
					<p class="comment nocomment">[No comments]</p>
	}
			</li>
	  }
  }
	</ul>
	}
}
else
{
	<h2>
		Please select a folder</h2>
}
